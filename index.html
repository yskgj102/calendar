<html>

<head>
	<title>勤務カレンダー</title>
	<link rel="stylesheet" href="./css/stylesheet.css">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<link rel="apple-touch-icon" href="./img/tower.png">

<style>*{-webkit-tap-highlight-color: rgba(0, 0, 0, 0); -webkit-touch-callout: none; -webkit-user-select: none;}</style>
</head>
<header align="center">
	<h1 align="center">Calendar</h1>
	<script class="today">
		function displayToday() {
			var today = new Date();
			var dayOfWeek = today.getDay();
			var dayOfWeekStr = ["日", "月", "火", "水", "木", "金", "土"][dayOfWeek]; // 曜日(日本語表記)
			var text = "Today : " + today.getFullYear() + "/" + (today.getMonth() + 1) + "/" + today.getDate() + "(" + dayOfWeekStr + ")";
			document.write(text);
		}

		function displayPropertyToday() {
			var today = new Date();
			var dayOfWeek = today.getDay();

			var day1 = new Date(2019, (5 - 1), 4);
			var day2 = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());
			//差日を求める（86,400,000ミリ秒＝１日）
			var termDay = (Math.floor((day2 - day1) / 86400000));
			while (termDay < 0) {
				termDay += 6;
			}
			if (termDay % 6 == 1 || termDay % 6 == 2) {
				if (!(termDay % 6 == 2 && day2.getDay() == 0)) {
					if (!(termDay % 6 == 2 && day2.getDay() == 3)) {
						document.write("休日");
					}
				}
			}
			if (termDay % 6 == 0) {
				document.write("夜勤明け");
			}
			if ((termDay % 6 == 2 && day2.getDay() == 0) || (termDay % 6 == 2 && day2.getDay() == 3)) {
				document.write("早番");
			} else if (termDay % 6 == 3) {
				document.write("早番");
			}
			if (termDay % 6 == 4) {
				document.write("仕事");
			}
			if (termDay % 6 == 5) {
				document.write("夜勤");
			}

		}
		displayToday();
		document.write("　");
		displayPropertyToday();
	</script>
</header>

<body>


	<table align="center" border="5" bordercolor="#339999" cellpadding="8" cellspacing="0">
		<script language="JavaScript" src="./js/calendar.js">

		</script>

	</table>
</body>
<footer style="font-size:20px">
*検索機能追加予定
</footer>

</html>
